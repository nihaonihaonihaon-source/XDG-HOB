local CoreGui=game:GetService("StarterGui")CoreGui:SetCore("SendNotification",{Title="XDGHOB",Text="脚本启动成功",Duration=3})print("脚本启动")local vu=game:GetService("VirtualUser")game:GetService("Players").LocalPlayer.Idled:connect(function()vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)wait(1)vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)end)task.wait(1)local player=game.Players.LocalPlayer local playerGui=player:WaitForChild("PlayerGui")local sg=Instance.new("ScreenGui")sg.Name="XDGHOBScript"sg.Parent=playerGui local openBtn=Instance.new("TextButton")openBtn.Parent=sg openBtn.Size=UDim2.new(0,100,0,40)openBtn.Position=UDim2.new(0,50,0,50)openBtn.BackgroundColor3=Color3.fromRGB(30,136,229)openBtn.Text="菜单"openBtn.TextColor3=Color3.new(1,1,1)openBtn.TextSize=14 local menu=Instance.new("Frame")menu.Parent=sg menu.Size=UDim2.new(0,250,0,400)menu.Position=UDim2.new(0,160,0,50)menu.BackgroundColor3=Color3.fromRGB(40,40,40)menu.Visible=false local scroll=Instance.new("ScrollingFrame")scroll.Parent=menu scroll.Size=UDim2.new(1,0,1,0)scroll.BackgroundTransparency=1 scroll.ScrollBarThickness=6 scroll.CanvasSize=UDim2.new(0,0,0,1500)local list=Instance.new("UIListLayout")list.Parent=scroll list.Padding=UDim.new(0,5)openBtn.MouseButton1Click:Connect(function()menu.Visible=not menu.Visible end)local UIS=game:GetService("UserInputService")local dragging=false local dragStart=Vector2.new(0,0)local btnStart=Vector2.new(0,0)openBtn.InputBegan:Connect(function(input)if input.UserInputType==Enum.UserInputType.MouseButton1 then dragging=true dragStart=Vector2.new(input.Position.X,input.Position.Y)btnStart=Vector2.new(openBtn.Position.X.Offset,openBtn.Position.Y.Offset)end end)UIS.InputChanged:Connect(function(input)if dragging and input.UserInputType==Enum.UserInputType.MouseMovement then local delta=Vector2.new(input.Position.X-dragStart.X,input.Position.Y-dragStart.Y)local newX=math.clamp(btnStart.X+delta.X,0,UIS.ViewSizeX-openBtn.Size.X.Offset)local newY=math.clamp(btnStart.Y+delta.Y,0,UIS.ViewSizeY-openBtn.Size.Y.Offset)openBtn.Position=UDim2.new(0,newX,0,newY)menu.Position=UDim2.new(0,newX+openBtn.Size.X.Offset+10,0,newY)end end)UIS.InputEnded:Connect(function(input)if input.UserInputType==Enum.UserInputType.MouseButton1 then dragging=false end end)local buttonStates={}local activeConnections={}local function updateButtonAppearance(btn,isActive)if isActive then btn.BackgroundColor3=Color3.fromRGB(30,136,229)btn.BorderSizePixel=2 btn.BorderColor3=Color3.fromRGB(255,255,255)else btn.BackgroundColor3=Color3.fromRGB(60,60,60)btn.BorderSizePixel=0 end end local function addBtn(name,func,isToggle)local btn=Instance.new("TextButton")btn.Parent=scroll btn.Size=UDim2.new(0,230,0,30)btn.Text=name btn.BackgroundColor3=Color3.fromRGB(60,60,60)btn.TextColor3=Color3.new(1,1,1)btn.TextSize=12 if isToggle then buttonStates[name]=false btn.MouseButton1Click:Connect(function()buttonStates[name]=not buttonStates[name]updateButtonAppearance(btn,buttonStates[name])func(btn)end)else btn.MouseButton1Click:Connect(function()func(btn)end)end return btn end addBtn("建筑工具",function(btn)local backpack=player.Backpack or player:WaitForChild("Backpack")local hammer=Instance.new("HopperBin")hammer.Name="锤子"hammer.BinType=4 hammer.Parent=backpack local clone=Instance.new("HopperBin")clone.Name="克隆"clone.BinType=3 clone.Parent=backpack local grab=Instance.new("HopperBin")grab.Name="抓取"grab.BinType=2 grab.Parent=backpack updateButtonAppearance(btn,true)task.wait(0.5)updateButtonAppearance(btn,false)CoreGui:SetCore("SendNotification",{Title="成功",Text="已添加建筑工具",Duration=3})end)addBtn("夜视",function(btn)if buttonStates["夜视"]then game.Lighting.Ambient=Color3.new(0,0,0)CoreGui:SetCore("SendNotification",{Title="夜视",Text="已关闭",Duration=3})else game.Lighting.Ambient=Color3.new(1,1,1)CoreGui:SetCore("SendNotification",{Title="夜视",Text="已开启",Duration=3})end end,true)addBtn("飞行",function(btn)local flyEnabled=buttonStates["飞行"]local char=player.Character or player.CharacterAdded:Wait()local hrp=char:WaitForChild("HumanoidRootPart")local hum=char:WaitForChild("Humanoid")local cam=workspace.CurrentCamera if flyEnabled then if activeConnections["飞行"]then activeConnections["飞行"]:Disconnect()activeConnections["飞行"]=nil end hum.GravityScale=1 hum.PlatformStand=false CoreGui:SetCore("SendNotification",{Title="飞行",Text="已关闭",Duration=3})else local flySpeed=50 hum.GravityScale=0 hum.PlatformStand=true activeConnections["飞行"]=game:GetService("RunService").RenderStepped:Connect(function()if not char or not hrp or not hum or hum.Health<=0 then return end local lookDir=cam.CFrame.LookVector lookDir=Vector3.new(lookDir.X,0,lookDir.Z).Unit hrp.CFrame=CFrame.new(hrp.Position,hrp.Position+lookDir)local moveDir=hum.MoveDirection if moveDir.Magnitude>0 then hrp.Position=hrp.Position + lookDir * moveDir.Magnitude * (flySpeed/60)end end)CoreGui:SetCore("SendNotification",{Title="飞行",Text="已开启 - 使用WASD控制",